/*! simple-tracker - v1.1.0 | MIT
 * https://github.com/codeniko/simple-tracker */
!function(){"use strict";function e(e){function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}function n(t){var n=e.onerror;e.onerror=function(){t.apply(f,arguments),"function"==typeof n&&n.apply(e,arguments)}}function o(){return{url:e.location.href,userAgent:e.navigator.userAgent||null,platform:e.navigator.platform||null}}function r(){var e=x.cookie,t=e.indexOf(h);if(t>=0){var n=e.indexOf(";",t+1);return n=n<0?e.length:n,e.slice(t+v,n)}}function i(e){x.cookie=h+"="+e}function s(e){i(p=e||p||r()||t())}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function c(e){var t=[g+"="+encodeURIComponent(JSON.stringify(e))];for(var n in E)E.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(E[n]));return u+"?"+t.join("&")}function d(t){if(u&&Object.keys(t).length>0)if(t.sessionId=p,C&&(t.context=f.clientContext),M)k===y?console.debug("SimpleTracker: POST "+u,t):console.debug("SimpleTracker: GET "+c(t));else try{var n=k===m,o=new e.XMLHttpRequest;o.open(k,n?c(t):u,!0),n?o.send():(o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(t)))}catch(e){}}function l(){this.clientContext=o()}var u,p,f,h="trcksesh",v=h.length+1,g="data",m="GET",y="POST",x=e.document,w=!1,C=!0,M=!1,T={},k=y,E={};l.prototype={onerror:function(e,t,n,o,r){var i={message:e,lineno:n,colno:o,stack:r?r.stack:"n/a"};this.logException(i)},logEvent:function(e,t){var n={type:"event",event:e};"object"==typeof t&&a(n,t),this.push(n)},logException:function(e){this.push({level:"error",type:"exception",exception:e})},logMessage:function(e,t){var n={type:"message",message:e};t&&(n.level=t),this.push(n)},logMetric:function(e,t){this.push({type:"metric",metric:e,value:t})},startTimer:function(t){var n=e.performance;n.now&&(T[t]&&M&&console.warn("Timing metric '"+t+"' already started"),M&&console.debug("timer started for:",t),T[t]=n.now())},stopTimer:function(t){var n=e.performance;if(n.now){var o=n.now(),r=T[t];if(void 0!==r){var i=Math.round(o-r);T[t]=void 0,M&&console.debug("timer stopped for:",t,"time="+i),this.logMetric(t,i)}else M&&console.warn("Timing metric '"+t+"' wasn't started")}},addQueryParam:function(e,t){E[e]=t},push:function(e){var t=typeof e;"object"!==t&&"string"!==t||("string"===t?e={text:e}:(void 0!==e.devMode&&(M=!!e.devMode,delete e.devMode),void 0!==e.attachClientContext&&(C=!!e.attachClientContext,delete e.attachClientContext),e.sessionId&&(s(e.sessionId),delete e.sessionId),e.endpoint&&(p||s(),u=e.endpoint,delete e.endpoint),"string"==typeof e.httpMethod&&(k=e.httpMethod.toUpperCase()===m?m:y,delete e.httpMethod),void 0!==e.sendCaughtExceptions&&((w=!!e.sendCaughtExceptions)&&n(this.onerror),delete e.sendCaughtExceptions)),d(e))}};var O=e.tracker;if(O&&O.length){f=new l;var S=0,b=O.length;for(S=0;S<b;S++)f.push(O[S])}else f=new l;return e.tracker=f,e.SimpleTracker=l,f}var t="undefined"!=typeof module&&module.exports;if("undefined"!=typeof window){var n=e(window);t&&(e.default=n,module.exports=n)}else{if(!t)throw new Error("");e.default=e,module.exports=e}}();
//# sourceMappingURL=simple-tracker.min.map