!function(){"use strict";function e(e,t){function n(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n)}function o(t){var n=e.onerror;e.onerror=function(){t.apply(f,arguments),"function"==typeof n&&n.apply(e,arguments)}}function i(){return p||(p={url:e.location.href,userAgent:e.navigator.userAgent||null,platform:e.navigator.platform||null}),p}function r(){var e=t.cookie,n=e.indexOf(v);if(n>=0){var o=e.indexOf(";",n+1);return o=o<0?e.length:o,e.slice(n+g,o)}}function s(e){t.cookie=v+"="+e}function a(e){s(d=e||d||r()||n())}function c(t){if(u&&Object.keys(t).length>0)if(t.sessionId=d,m&&(t.context=i()),w)console.debug("SimpleTracker: POST "+u,t);else try{var n=new e.XMLHttpRequest;n.open("POST",u,!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t))}catch(e){}}function l(){}var u,d,f,p,v="trcksesh",g=v.length+1,h=!0,m=!0,w=!1,x={};l.prototype={onerror:function(e,t,n,o,i){var r={message:e,lineno:n,colno:o,stack:i?i.stack:"n/a"};this.logException(r)},logEvent:function(e){this.push({type:"event",event:e})},logException:function(e){this.push({level:"error",type:"exception",exception:e})},logMessage:function(e,t){var n={type:"message",message:e};t&&(n.level=t),this.push(n)},logMetric:function(e,t){this.push({type:"metric",metric:e,value:t})},startTimer:function(t){var n=e.performance;n.now&&(x[t]&&w&&console.warn("Timing metric '"+t+"' already started"),w&&console.debug("timer started for:",t),x[t]=n.now())},stopTimer:function(t){var n=e.performance;if(n.now){var o=n.now(),i=x[t];if(void 0!==i){var r=Math.round(o-i);x[t]=void 0,w&&console.debug("timer stopped for:",t,"time="+r),this.logMetric(t,r)}else w&&console.warn("Timing metric '"+t+"' wasn't started")}},push:function(e){var t=typeof e;if("object"===t||"string"===t){if("string"===t)e={text:e};else if(void 0!==e.devMode&&(w=!!e.devMode,delete e.devMode),void 0!==e.attachClientContext&&(m=!!e.attachClientContext,delete e.attachClientContext),e.sessionId&&(a(e.sessionId),delete e.sessionId),e.endpoint&&(d||a(),u=e.endpoint,delete e.endpoint),void 0!==e.sendCaughtExceptions){var n=!!e.sendCaughtExceptions;h=n,n&&o(this.onerror),delete e.sendCaughtExceptions}c(e)}}};var y=e.tracker;if(y&&y instanceof l)f=y;else if(y&&y.length){f=new l;var k=0,C=y.length;for(k=0;k<C;k++)f.push(y[k])}else f=new l;return e.tracker=f,e.SimpleTracker=l,f}var t="undefined"!=typeof module&&module.exports;if("undefined"!=typeof window){var n=e(window,window.document);t&&(e.default=n,module.exports=n)}else{if(!t)throw new Error("");e.default=e,module.exports=e}}();
//# sourceMappingURL=simple-tracker.min.map